<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>nodejs</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<body>

	node 升级：
		安装n  node版本管理工具
			sudo npn i -g n --force

		npm:
			npm ls  查看所有的本地包
			npm list -g  查看本地安装的全局包
			npm list express 查看express的版本

			npm update xxx   更新某个模块
			npm search xxx   搜索某个模块

	nvm管理node版本

		https://www.jianshu.com/p/04d31f6c22bd
		nvm ls  查看本地的安装版本
		nvm ls-remote  查看线上所有版本
		nvm ls available  查看线上所有版本
		nvm install v11.0.0
		nvm use v8.0.0 用回8.0版本
		使用nvm alias default <version>命令来指定一个默认的node版本
		nvm current 当前版本

		nvm --help                          显示所有信息
		nvm --version                       显示当前安装的nvm版本
		nvm install [-s] <version>          安装指定的版本，如果不存在.nvmrc,就从指定的资源下载安装
		nvm install [-s] <version>  -latest-npm 安装指定的版本，平且下载最新的npm
		nvm uninstall <version>             卸载指定的版本
		nvm use [--silent] <version>        使用已经安装的版本  切换版本
		nvm current                         查看当前使用的node版本
		nvm ls                              查看已经安装的版本
		nvm ls  <version>                   查看指定版本
		nvm ls-remote                       显示远程所有可以安装的nodejs版本
		nvm ls-remote --lts                 查看长期支持的版本
		nvm install-latest-npm              安装罪行的npm
		nvm reinstall-packages <version>    重新安装指定的版本
		nvm cache dir                       显示nvm的cache
		nvm cache clear


		node 版本号管理：
			x.y.z 分别代码主版本号、次版本号、和补丁版本号，当代码变更时，版本号按以下规则更新：
				1、如果只是修复bug，需要更新z位
				2、如果只是新增了功能，但是向下兼容，需要更新y位
				3、如果有大变动，向下不兼容，需要更新x位


		升级：
			sudo n 版本号
			n latest  // 最新版本
			n stable  //升级到最近的稳定版本

		This package has installed:
	•	Node.js v8.11.3 to /usr/local/bin/node
	•	npm v5.6.0 to /usr/local/bin/npm
		Make sure that /usr/local/bin is in your $PATH.


	nodejs 和 javascript 的语法结构、内置对象、数据类型都是一样的；
	nodejs 和 javascript 的区别
	javascript:基础语言ecmascript,主要用于操作dom、bom对象；
	nodejs:基础语言ecmascript，nodejs 扩展了出来了，操作os(系统)、file(文件系统)、net(网络)、database(数据库)；
	javascript上的顶层对象是window;
	node中的顶层对象为global，在node中不存在window对象


    nodejs 相关学习网站

    nodejs.org  官网
   	www.npmjs.com
   	github.com
   	stackoverflow.com  技术疑问、跑服务时出错


   	nodejs 的安装mac  brew install node  首先要有python，安装ruby
   	node -v 提示版本号即安装成功

	ctrl+c 停止服务
	command + b 运行js


	nodejs 模块类型
	核心模块
	文件模块
	第三方模块

	node API

	url:
		1、url.parse('https://www.imooc.com:8080/course/list?from=scott&course=node#floor1')
		  结果：
		 { protocol: 'https:', //协议类型
		  slashes: true, // 是否有协议的双斜线
		  auth: null,
		  host: 'www.imooc.com:8080', //服务器ip 地址或域名
		  port: '8080', // 端口号 默认都为8080
		  hostname: 'www.imooc.com', //主机名
		  hash: null, //域名中加锚点的滚动到相应位置
		  search: '?from=scott&course=node', //查询字符串参数
		  query: 'from=scott&course=node',
		  pathname: '/course/list',//访问路径资源名称
		  path: '/course/list?from=scott&course=node', //路径
		  href: 'https://www.imooc.com:8080/course/list?from=scott&course=node#floor1' }

		1.1  url.parse('https://www.imooc.com:8080/course/list?from=scott&course=node#floor1',true)
			结果：
			{
			  protocol: 'https:',
			  slashes: true,
			  auth: null,
			  host: 'www.imooc.com:8080',
			  port: '8080',
			  hostname: 'www.imooc.com',
			  hash: '#floor1',
			  search: '?from=scott&course=node',
			  query: { from: 'scott', course: 'node' }, //json对象
			  pathname: '/course/list',
			  path: '/course/list?from=scott&course=node',
			  href: 'https://www.imooc.com:8080/course/list?from=scott&course=node#floor1'
		    }

		   1.2  url.parse('//www.imooc.com:8080/course/list?from=scott&course=node#floor1',true,true)  //不确定协议类型的时候
		   结果：
		   {
			  protocol: null,
			  slashes: true,
			  auth: null,
			  host: 'www.imooc.com:8080',
			  port: '8080',
			  hostname: 'www.imooc.com',
			  hash: '#floor1',
			  search: '?from=scott&course=node',
			  query: { from: 'scott', course: 'node' },
			  pathname: '/course/list',
			  path: '/course/list?from=scott&course=node',
			  href: '//www.imooc.com:8080/course/list?from=scott&course=node#floor1'
		  }
		2、url.format({
			protocol: 'https:',
        	slashes: true,
			auth: null,
			host: 'www.imooc.com:8080',
			port: '8080',
			hostname: 'www.imooc.com',
			hash: '#floor1',
			search: '?from=scott&score=nodejs',
			query: 'from=scott&score=nodejs',
			pathname: '/course/list',
			path: '/course/list?from=scott&score=nodejs',
			href: 'https://www.imooc.com:8080/course/list?from=scott&score=nodejs#floor1'
		})
		结果：'https://www.imooc.com:8080/course/list?from=scott&score=nodejs#floor1'

	   3、url.resolve('https://www.imooc.com:8080','/course/list')
	     结果：'https://www.imooc.com:8080/course/list'

     querystring //默认传递的参数个数最多为1000个，通过设置第个参数maxKeys设置参数个数
     	1、querystring.stringify
     		querystring.stringify({name:"scott",course:["jade","nodejs"],from:""})
     		结果：'name=scott&course=jade&course=nodejs&from='

		1.1、querystring.stringify({name:"scott",course:["jade","nodejs"],from:""},",");
			结果：'name=scott,course=jade,course=nodejs,from='

		1.3、querystring.stringify({{name:"scott",course:["jade","nodejs"],from:""},",",":"})
			结果：'name:scott,course:jade,course:nodejs,from:'

		2、querystring.parse()
			2.1、querystring.parse('name=scott&course=jade&course=nodejs&from=')
			结果：{ name: 'scott', course: [ 'jade', 'nodejs' ], from: '' }

			2.2、querystring.parse('name=scott,course=jade,course=nodejs,from=',',')
			结果：{ name: 'scott', course: [ 'jade', 'nodejs' ], from: '' }

			2.3、querystring.parse('name:scott,course:jade,course:nodejs,from:',',',':')
				结果：{ name: 'scott', course: [ 'jade', 'nodejs' ], from: '' }

		3、querystring.escope
			3.1、 querystring.escape('<哈哈>')
				结果：'%3C%E5%93%88%E5%93%88%3E'

			3.2、querystring.unescape('%3C%E5%93%88%E5%93%88%3E')
				结果：'<哈哈>'


		http 模块：
			一个文件夹就是一个模块，每个模块都有自己的作用域，我们使用var来申明一个变量，他并不是全局的，而是属于当前模块下的变量；
				var a = 100;
				global.a = 200;
			模块的加载：require('模块');

			模块加载机制：
				路径：
					-绝对路径：
						require('/Users/lvtenglong/Documents/pengmeili/sublime/nodejs/module/2.js');
					-相对路径：
						require('./2.js');
						require('2.js'); // 加载node 中的核心模块，或者是安装目录下的node_moudles

				加载文件的后缀：
					1、首先按照加载的模块的名称进行查找；
					2、如果没找到，则会在模块文件名称后加上.js的后缀，进行查找；
					3、如果没找到，则会在模块文件名称后加上.json后缀，进行查找；
					4、如果没找到，则会在模块文件名称后加上.node后缀，进行查找；
					文件名称 -> .js -> .json -> .node
					如果还没找到则报错

				同一个模块下的变量要互相调用：
					1、定义成全局变量 global.a = 100; 不推荐
					2、module
						module:保存提供和当前模块有关的一些信息，module下有一个子对象：exports对象，可以通过exports对象把一个模块中的局部变量对象对外暴露访问
						1.js / 2.js

						在模块作用域，还有一个内置模块对象，exports，他其实就是module.exports
						console.log(exports === module.exports) true





			什么是回调？


		global对象： 3.js
			__filename : 当前文件被解析后的绝对路径，当前模块下的全局变量;
			__dirname : 当前模块的文件夹名称


			-- process  全局对象，可以在程序的任何地方访问，可以对当前运行的程序的进程进行访问和控制


		buffer 类 ：用于操作二进制数据流
			new Buffer(size) size:Number	 //废弃
			当我们为一个Buffer对象分配空间大小以后，其长度是固定的，不能更改，可以修改值；

			new Buffer([1,2,3]) //废弃

			new Buffer(string,[encoding]) // 废弃
				encoding : 默认为utf-8，base64,ucs2

			Buffer.length : Buffer 类的字节数；	一个中文汉字占3个字节，一个英文点一个字节


		自动化构建: 4.js 自动创建文件目录

		监控修改的文件：watch 自动打包多个文件 5.js



		http 测试  apache ab

		ab -n1000 -c10 https://www.imooc.com/


		http 小爬虫



</body>
</html>
